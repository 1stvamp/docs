<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Juju Documentation - None</title>
  <link href='https://fonts.googleapis.com/css?family=Ubuntu:400,300,300italic,400italic,700,700italic|Ubuntu+Mono' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" type="text/css" media="screen" href="//juju.ubuntu.com/wp-content/themes/juju-website/css/reset.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="//juju.ubuntu.com/wp-content/themes/juju-website/css/960.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="//juju.ubuntu.com/wp-content/themes/juju-website/css/base.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="//juju.ubuntu.com/wp-content/themes/juju-website/css/home-new.css" />
  <link rel='stylesheet' id='stacktack-css'  href='//juju.ubuntu.com/wp-content/plugins/stacktack/css/stacktack.min.css?ver=3.4.2' type='text/css' media='all' />
  <link href="css/main.css?1375957127" rel="stylesheet" type="text/css"/>

  <!--[if lt IE 9]>
  <script type="text/javascript" src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>



<!-- DO NOT EDIT ABOVE THIS LINE -->

<!-- DO NOT EDIT ABOVE THIS LINE -->


  <body class="resources">
    <header class="global clearfix" role="banner">
  <div class="header-navigation">
    <div>
      <nav role="navigation">
        <ul>
          <li class="page_item page-item-6"><a href="https://juju.ubuntu.com/">Home</a></li>
          <li class="page_item page-item-7"><a href="https://juju.ubuntu.com/get-started/">Get started</a></li>
          <li class="page_item page-item-9 current_page_item"><a href="https://juju.ubuntu.com/resources/">Resources</a></li>
          <li class="page_item page-item-13"><a href="https://juju.ubuntu.com/community/">Community</a></li>
          <li class="page_item page-item-3688"><a href="https://juju.ubuntu.com/charm-store/">Charm Store</a></li>
          <li class="page_item page-item-3691"><a href="https://juju.ubuntu.com/events/">Events</a></li>
          <li class="page_item page-item-4474"><a href="https://juju.ubuntu.com/charm-championship/">Charm Championship</a></li>
          <li class="page_item page-item-4249"><a href="https://juju.ubuntu.com/survey/">Survey</a></li>
          <li>
            <form id="form-search" method="get" action="https://juju.ubuntu.com/">
              <fieldset>
                <input id="input-search" type="text" name="s" value="Search" />
              </fieldset>
            </form>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="header-content">
    <div class="clearfix">
      <img src="https://juju.ubuntu.com/wp-content/themes/juju-website/img/arrow-nav.png" width="9" height="5" style="left:894px; display: block;" class="arrow-nav">
      <div class="header-navigation-secondary"></div>
      <div class="header-image"></div>
      <h1>Resources</h1>
      <h2>A collection of some of the most important online references for Juju users and developers.</h2>
    </div>
  </div>
</header>

    <section id="content" class="container-12">
      <div class="grid-12 doc-container">
        <div class="grid-3 doc-navigation">
          <nav role="navigation">
            <h1>User Guide</h1>
            <ul>
              <li class=""><a href="getting-started.html">Getting Started</a></li>
              <li class=" sub"><a href="getting-started.html#intro">Introduction</a></li>
              <li class=" sub"><a href="getting-started.html#install">Installation</a></li>
              <li class=" sub"><a href="config-aws.html">AWS Configuration</a></li>
              <li class=" sub"><a href="config-hpcloud.html">HP Cloud Configuration</a></li>
              <li class=" sub"><a href="config-openstack.html">OpenStack Configuration</a></li>
              <li class=" sub"><a href="config-maas.html">MAAS Configuration</a></li>
              <li class=" sub"><a href="getting-started.html#test">Testing your setup</a></li>
              <li class=""><a href="charms.html">Using Charms</a></li>
              <li class=" sub"><a href="charms.html#intro">What are Charms?</a></li>
              <li class=" sub"><a href="charms-deploying.html">Deploying Services</a></li>
              <li class=" sub"><a href="charms-constraints.html">Using constraints</a></li>
              <li class=" sub"><a href="charms-config.html">Service Configuration</a></li>
              <li class=" sub"><a href="charms-relations.html">Service Relationships</a></li>
              <li class=" sub"><a href="charms-exposing.html">Exposing Services</a></li>
              <li class=" sub"><a href="charms-scaling.html">Scaling Services</a></li>
              <li class=" sub"><a href="charms-destroy.html">Destroying Services</a></li>
            </ul>
            <h1>Charm Authors</h1>
            <ul></ul>
            <li class=""><a href="authors-charm-anatomy.html">Anatomy of a charm</a></li>
            <li class=""><a href="authors-charm-writing.html">Writing a charm</a></li>
            <li class=" sub"><a href="authors-subordinate-services.html">Subordinate services</a></li>
            <li class=" sub"><a href="authors-implicit-relations.html">Implicit Relations</a></li>
            <li class=" sub"><a href="authors-testing.html">Charm Testing</a></li>
            <li class=" sub"><a href="authors-hooks.html">Hook debugging</a></li>
            <li class=""><a href="authors-charm-store.html">The Juju Charm Store</a></li>
            <li class=" sub"><a href="authors-charm-policy.html">Charm store policy</a></li>
            <li class=" sub"><a href="authors-charm-best-practice.html">Best practices</a></li>
            <li class=" sub"><a href="authors-charm-quality.html">Charm Quality Rating</a></li>
            <h1>Reference</h1>
            <ul>
              <li class="sub"><a href="commands.html">Juju commands</a></li>
              <li class="sub"><a href="glossary.html">Glossary</a></li>
              <li class="sub"><a href="contributing.html">Contribute to the Docs!</a></li>
            </ul>
          </nav>
        </div>
        <div class="grid-9 doc-content">
          <article>      
            <section id="charm-in-action">
	    <h1 id="charms-in-action">Charms in action</h1>
	    <p>This document describes the behaviour of the go implementation of the unit agent, whose behaviour differs in some respects from that of the python implementation. This information is largely relevant to charm authors, and potentially to developers interested in the unit agent.</p>

	    <h2 id="hooks">Hooks</h2>
	    <p>A service unit's direct action is entirely defined by its charm's hooks. Hooks are executable files in a charm's hooks directory; hooks with particular names will be invoked by the juju unit agent at particular times, and thereby cause changes to the world.</p>
	    <p>Whenever a hook-worthy event takes place, the unit agent tries to run the hook with the appropriate name. If the hook doesn't exist, the agent continues without complaint; if it does, it is invoked without arguments in a specific environment, and its output is written to the unit agent's log. If it returns a non-zero exit code, the agent enters an error state and awaits resolution; otherwise it continues to process environment changes as before.</p>
	    <p>In general, a unit will run hooks in a clear sequence, about which a number of useful guarantees are made. All such guarantees come with the caveat that there is [TODO: will be: <code>remove-unit --force</code>] a mechanism for forcible termination of a unit, and that a unit so terminated will just stop, dead, and completely fail to run anything else ever again. This shouldn't actually be a big deal in practice.</p>

	    <h2 id="errors-in-hooks">Errors in hooks</h2>
	    <p>Hooks should ideally be idempotent, so that they can fail and be re-executed from scratch without trouble. As a hook author, you don't have complete control over the times your hook might be stopped: if the unit agent process is killed for any reason while running a hook, then when it recovers it will treat that hook as having failed -- just as if it had returned a non-zero exit code -- and request user intervention.</p>
	    <p>It is unrealistic to expect great sophistication on the part of the average user, and as a charm author you should expect that users will attempt to re-execute failed hooks before attempting to investigate or understand the situation. You should therefore make every effort to ensure your hooks are idempotent when aborted and restarted.</p>
	    <p>[TODO: I have a vague feeling that <code>juju resolved</code> actually defaults to &quot;just pretend the hook ran successfully&quot; mode. I'm not sure that's really the best default, but I'm also not sure we're in a position to change the UI that much.]</p>
	    <p>The most sophisticated charms will consider the nature of their operations with care, and will be prepared to internally retry any operations they suspect of having failed transiently, to ensure that they only request user intervention in the most trying circumstances; and will also be careful to log any relevant information or advice before signalling the error.</p>
	    <p>[TODO: I just thought; it would be really nice to have a juju-fail hook tool, which would allow charm authors to explicity set the unit's error status to something a bit more sophisticated than &quot;X hook failed&quot;. Wishlist, really.]</p>

	    <h2 id="charm-deployment">Charm deployment</h2>
	    <ul>
	    <li>A charm is deployed into a directory that is entirely owned and controlled by juju.</li>
	    <li>At certain times, control of the directory is ceded to the charm (by running a hook) or to the user (by entering an error state).</li>
	    <li>At these times, and only at these times, should the charm directory be used by anything other than juju itself.</li>
	    </ul>

	    <p>The most important consequence of this is that it is a mistake to conflate the state of the charm with the state of the software deployed by the charm: it's fine to store <em>charm</em> state in the charm directory, but the charm must deploy its actual software elsewhere on the system.</p>
	    <p>To put it another way: deleting the charm directory should not impact the software deployed by the charm in any way; and there is currently no mechanism by which deployed software can safely feed information back into the charm and/or expect that it will be acted upon in a timely way.</p>
	    <p>[TODO: this sucks a bit. We have plans for a tool called <code>juju-run</code>, which would allow an arbitrary script to be invoked as though it were a hook at any time (well, it'd block until no other hook were running, but still). Probably isn't even that hard but it's still rolling around my brain, might either click soon or be overridden by higher priorities and be left for ages. I'm less sure, but have a suspicion, that <code>juju ssh &lt;unit&gt;</code> should also default to a juju-run environment: primarily because, without this, in the context of forced upgrades, the system cannot offer <em>any</em> guarantees about what it might suddenly do to the charm directory while the user's doing things with it. The alternative is to allow unguarded ssh, but tell people that they have to use something like <code>juju-run --interactive</code> before they modify the charm dir; this feels somewhat user-hostile, though.]</p>

	    <h2 id="execution-environment">Execution environment</h2>
	    <p>Every hook is run in the deployed charm directory, in an environment with the following characteristics:</p>
	    <ul>
	    <li>$PATH is prefixed by a directory containing command line tools through which the hooks can interact with juju.</li>
	    <li>$CHARM_DIR holds the path to the charm directory.</li>
	    <li>$JUJU_UNIT_NAME holds the name of the local unit.</li>
	    <li><span class="math"><em>J</em><em>U</em><em>J</em><em>U</em><sub><em>C</em></sub><em>O</em><em>N</em><em>T</em><em>E</em><em>X</em><em>T</em><sub><em>I</em></sub><em>D</em><em>a</em><em>n</em><em>d</em></span>JUJU_AGENT_SOCKET are set (but should not be messed with: the command line tools won't work without them).</li>
	    <li>$JUJU_API_ADDRESSES holds a space separated list of juju API addresses.</li>
	    </ul>
	    <h2 id="hook-tools">Hook tools</h2>
	    <p>All hooks can directly use the following tools:</p>
	    <ul>
	    <li>juju-log (write arguments direct to juju's log (potentially redundant, hook output is all logged anyway, but --debug may remain useful))</li>
	    <li>unit-get (returns the local unit's private-address or public-address)</li>
	    <li>open-port (marks the supplied port/protocol as ready to open when the service is exposed)</li>
	    <li>close-port (reverses the effect of open-port)</li>
	    <li>config-get (get current service configuration values)</li>
	    <li>relation-get (get the settings of some related unit)</li>
	    <li>relation-set (write the local unit's relation settings)</li>
	    <li>relation-ids (list all relations using a given charm relation)</li>
	    <li>relation-list (list all units of a related service)</li>
	    </ul>
	    <p>Within the context of a single hook execution, the above tools present a sandboxed view of the system with the following properties:</p>
	    <ul>
	    <li>Any data retrieved corresponds to the real value of the underlying state at some point in time.</li>
	    <li>Once state data has been observed within a given hook execution, further requests for the same data will produce the same results, unless that data has been explicitly changed with relation-set.</li>
	    <li>Data changed by relation-set is only written to global state when the hook completes without error; changes made by a failing hook will be discarded and never observed by any other part of the system.</li>
	    <li>Not actually sandboxed: open-port and close-port operate directly on state. [TODO: lp:1089304 - might be a little tricky.]</li>
	    </ul>

	    <h2 id="hook-kinds">Hook kinds</h2>
	    <p>There are 5 <code>unit hooks</code> with predefined names that can be implemented by any charm:</p>
	    <ul>
	    <li>install</li>
	    <li>config-changed</li>
	    <li>start</li>
	    <li>upgrade-charm</li>
	    <li>stop</li>
	    </ul>
	    <p>For every relation defined by a charm, an additional 4 <code>relation hooks</code> can be implemented, named after the charm relation:</p>
	    <ul>
	    <li><name>-relation-joined</li>
	    <li><name>-relation-changed</li>
	    <li><name>-relation-departed</li>
	    <li><name>-relation-broken</li>
	    </ul>

	    <h2 id="unit-hooks">Unit hooks</h2>
	    <p>The <code>install</code> hook always runs once, and only once, before any other hook.</p>
	    <p>The <code>config-changed</code> hook always runs once immediately after the install hook, and likewise after the upgrade-charm hook. It also runs whenever the service configuration changes, and when recovering from transient unit agent errors.</p>
	    <p>The <code>start</code> hook always runs once immediately after the first config-changed hook; there are currently no other circumstances in which it will be called, but this may change in the future.</p>
	    <p>The <code>upgrade-charm</code> hook always runs once immediately after the charm directory contents have been changed by an unforced charm upgrade operation, and <em>may</em> do so after a forced upgrade; but will <em>not</em> be run after a forced upgrade from an existing error state. (Consequently, neither will the config-changed hook that would ordinarily follow the upgrade-charm.)</p>
	    <p>The <code>stop</code> hook is the last hook to be run before the unit is destroyed. In the future, it may be called in other situations.</p>
	    <p>In normal operation, a unit will run at least the install, start, config-changed and stop hooks over the course of its lifetime.</p>
	    <p>It should be noted that, while all hook tools are available to all hooks, the relation-* tools are not useful to the install, start, and stop hooks; this is because the first two are run before the unit has any opportunity to participate in any relations, and the stop hooks will not be run while the unit is still participating in one.</p>

	    <h2 id="relation-hooks">Relation hooks</h2>
	    <p>For each charm relation, any or all of the 4 relation hooks can be implemented. Relation hooks operate in an environment slightly different to that of unit hooks, in the following ways:</p>
	    <ul>
	    <li>JUJU_RELATION is set to the name of the charm relation. This is of limited value, because every relation hook already &quot;knows&quot; what charm relation it was written for; that is, in the &quot;foo-relation-joined&quot; hook, JUJU_RELATION is &quot;foo&quot;.</li>
	    <li>JUJU_RELATION_ID is more useful, because it serves as unique identifier for a particular relation, and thereby allows the charm to handle distinct relations over a single endpoint. In hooks for the &quot;foo&quot; charm relation, JUJU_RELATION_ID always has the form &quot;foo:<id>&quot;, where id uniquely but opaquely identifies the runtime relation currently in play.</li>
	    <li>The relation-* hook tools, which ordinarily require that a relation be specified, assume they're being called with respect to the current relation. The default can of course be overridden as usual.</li>
	    </ul>
	    <p>Furthermore, all relation hooks except relation-broken are notifications about some specific unit of a related service, and operate in an environment with the following additional properties:</p>
	    <ul>
	    <li>JUJU_REMOTE_UNIT is set to the name of the current related unit.</li>
	    <li>The relation-get hook tool, which ordinarily requires that a related unit be specified, assumes that it is being called with respect to the current related unit. The default can of course be overridden as usual.</li>
	    </ul>
	    <p>For every relation in which a unit partcipates, hooks for the appropriate charm relation are run according to the following rules.</p>
	    <p>The &quot;relation-joined&quot; hook always runs once when a related unit is first seen.</p>
	    <p>The &quot;relation-changed&quot; hook for a given unit always runs once immediately following the relation-joined hook for that unit, and subsequently whenever the related unit changes its settings (by calling relation-set and exiting without error). Note that &quot;immediately&quot; only applies within the context of this particular runtime relation -- that is, when &quot;foo-relation-joined&quot; is run for unit &quot;bar/99&quot; in relation id &quot;foo:123&quot;, the only guarantee is that the next hook to be run <em>in relation id &quot;foo:123&quot;</em> will be &quot;foo-relation-changed&quot; for &quot;bar/99&quot;. Unit hooks may intervene, as may hooks for other relations, and even for other &quot;foo&quot; relations.</p>
	    <p>The &quot;relation-departed&quot; hook for a given unit always runs once when a related unit is no longer related. After the &quot;relation-departed&quot; hook has run, no further notifications will be received from that unit; however, its settings will remain accessible via relation-get for the complete lifetime of the relation.</p>
	    <p>The &quot;relation-broken&quot; hook is not specific to any unit, and always runs once when the local unit is ready to depart the relation itself. Before this hook is run, a relation-departed hook will be executed for every unit known to be related; it will never run while the relation appears to have members, but it may be the first and only hook to run for a given relation. The stop hook will not run while relations remain to be broken.</p>
	    <h2 id="relations-in-depth">Relations in depth</h2>
	    <p>A unit's <code>scope</code> consists of the group of units that are transitively connected to that unit within a particular relation. So, for a globally-scoped relation, that means every unit of each service in the relation; for a locally-scoped relation, it means only those sets of units which are deployed alongside one another. That is to say: a globally-scoped relation has a single unit scope, whilst a locally-scoped relation has one for each principal unit.</p>
	    <p>When a unit becomes aware that it is a member of a relation, its only self- directed action is to <code>join</code> its scope within that relation. This involves two steps:</p>
	    <ul>
	    <li>Write initial relation settings (just one value, &quot;private-address&quot;), to ensure that they will be available to observers before they're triggered by the next step;</li>
	    <li>Signal its existence, and role in the relation, to the rest of the system.</li>
	    </ul>
	    <p>The unit then starts observing and reacting to any other units in its scope which are playing a role in which it is interested. To be specific:</p>
	    <ul>
	    <li>Each provider unit observes every requirer unit</li>
	    <li>Each requirer unit observes every provider unit</li>
	    <li>Each peer unit observes every other peer unit</li>
	    </ul>
	    <p>Now, suppose that some unit as the very first unit to join the relation; and let's say it's a requirer. No provider units are present, so no hooks will fire. But, when a provider unit joins the relation, the requirer and provider become aware of each other almost simultaneously. (Similarly, the first two units in a peer relation become aware of each other almost simultaneously.)</p>
	    <p>So, concurrently, the units on each side of the relation run their relation-joined and relation-changed hooks with respect to their counterpart. The intent is that they communicate appropriate information to each other to set up some sort of connection, by using the relation-set and relation-get hook tools; but neither unit is safe to assume that any particular setting has yet been set by its counterpart.</p>
	    <p>This sounds kinda tricky to deal with, but merely requires suitable respect for the relation-get tool: it is important to realise that relation-get is <em>never</em> guaranteed to contain any values at all, because we have decided that it's perfectly legitimate for a unit to delete its own private-address value.</p>
	    <p>[TODO: There is a school of thought that maintains that we should add an independent &quot;juju-private-address&quot; setting that <em>is</em> guaranteed, but for now the reality is that relation-get can <em>always</em> fail to produce any given value. However, in the name of sanity, it's probably reasonable to treat a missing private-address as an error, and assume that <code>relation-get private-address</code> is always safe. For all other values, we must operate with the understanding that relation-get can always fail.]</p>
	    <p>In one specific kind of hook, this is easy to deal with. A relation-changed hook can always exit without error when the current remote unit is missing data, because the hook is guaranteed to be run again when that data changes -- and, assuming the remote unit is running a charm that agrees on how to implement the interface, the data <em>will</em> change and the hook <em>will</em> be run again.</p>
	    <p>In <em>all</em> other cases -- unit hooks, relation hooks for a different relation, relation hooks for a different remote unit in the same relation, and even relation hooks other than -changed for the <em>same</em> remote unit -- there is no such guarantee. These hooks all run on their own schedule, and there is no reason to expect them to be re-run on a predictable schedule, or in some cases ever again.</p>
	    <p>This means that all such hooks need to be able to handle missing relation data, and to complete successfully; they mustn't fail, because the user is powerless to resolve the situation, and they can't even wait for state to change, because they all see their own sandboxed composite snapshot of fairly-recent state, which never changes.</p>
	    <p>So, outside a vey narrow range of circumstances, relation-get should be treated with particular care. The corresponding advice for relation-set is very simple by comparison: relation-set should be called early and often. Because the unit agent serializes hook execution, there is never any danger of concurrent changes to the data, and so a null setting change can be safely ignored, and will not cause other units to react.</p>
	    <h2 id="departing-relations">Departing relations</h2>
	    <p>A unit will depart a relation when either the relation or the unit itself is marked for termination. In either case, it follows the same sequence:</p>
	    <ul>
	    <li>For every known related unit -- those which have joined and not yet departed -- run the relation-departed hook.</li>
	    <li>Run the relation-broken hook.</li>
	    <li><code>depart</code> from its scope in the relation.</li>
	    </ul>
	    <p>The unit's departure from its scope will in turn be detected by units of the related service, and cause them to run relation-departed hooks. A unit's relation settings persist beyond its own departure from the relation; the final unit to depart a relation marked for termination is responsible for destroying the relation and all associated data.</p>
	    <h2 id="debugging-charms">Debugging charms</h2>
	    <p>Facilities are currently not good.</p>
	    <ul>
	    <li>juju ssh</li>
	    <li>juju debug-hooks</li>
	    <li>juju debug-log</li>
	    </ul>
	    <p>It may be helpful to note that the charm directory is a git repository that holds the complete hook-by-hook history of the deployment. This property is not guaranteed, and charms should not depend upon it, but humans who need to dig around in charm directories should be aware of it.</p>
</article>
    </section>
    <div class="shadow"></div>
    <footer class="global clearfix" role="contentinfo">
  <div class="row">
    <div class="inner-wrapper">
      <nav role="navigation" class="clearfix">
        <ul class="footer-a">
          <li class="grid-3 first-col">
            <h4><a href="/get-started">Get started</a></h4>
            <ul>
              <li class="page_item page-item-20"><a href="https://juju.ubuntu.com/get-started/local/">Local</a></li>
              <li class="page_item page-item-22"><a href="https://juju.ubuntu.com/get-started/amazon/">Amazon Web Services</a></li>
              <li class="page_item page-item-18"><a href="https://juju.ubuntu.com/get-started/hp-cloud/">HP Cloud</a></li>
              <li class="page_item page-item-16"><a href="https://juju.ubuntu.com/get-started/rackspace/">Rackspace</a></li>
              <li class="page_item page-item-3596"><a href="https://juju.ubuntu.com/get-started/openstack/">Openstack</a></li>
              <li class="page_item page-item-3600"><a href="https://juju.ubuntu.com/get-started/maas/">MAAS</a></li>
            </ul>
          </li>
          <li class="grid-3">
            <h4><a href="/resources">Resources</a></h4>
            <ul>
              <li><a href="http://juju.ubuntu.com/docs">Documentation</a></li>
              <li><a href="/resources/videos/">Videos</a></li>
              <li><a href="http://uistage.jujucharms.com:8080/">Juju GUI demo site</a></li>
            </ul>
          </li>
          <li class="grid-3">
            <h4><a href="/community">Community</a></h4>
            <ul>
              <li class="page_item page-item-28"><a href="https://juju.ubuntu.com/community/juju-blog/">Juju Blog</a></li>
              <li class="page_item page-item-4262"><a href="https://juju.ubuntu.com/community/weekly-charm-meeting/">Weekly Charm Meeting</a></li>
              <li class="page_item page-item-4036"><a href="https://juju.ubuntu.com/community/charmers/">Charmers</a></li>
              <li><a href="https://lists.ubuntu.com/mailman/listinfo/juju">Mailing List</a></li>
              <li><a href="http://webchat.freenode.net/?channels=juju">Chat</a></li>
              <li><a href="http://askubuntu.com/questions/tagged/juju?sort=faq&pagesize=50">FAQ</a></li>
            </ul>
          </li>
          <li class="grid-3 last-col">
            <h4><a href="https://launchpad.net/juju">Code</a></h4>
            <ul>
              <li><a href="https://launchpad.net/juju-core">Juju Core</a></li>
              <li><a href="https://launchpad.net/charms">Charms</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="row no-border">
    <div class="legal inner-wrapper">
      <p>&copy; 2013 Canonical Ltd. Ubuntu and Canonical are registered trademarks of Canonical Ltd.</p>
      <p><a href="https://bugs.launchpad.net/juju-website/+filebug">Report a bug on this site</a></p>
    </div>
  </div>
</footer>

    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/jquery-ui.min.js"></script>
    <script src="//d38yea5fb4e2oh.cloudfront.net/jquery.stacktack.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
  </body>
</html>
