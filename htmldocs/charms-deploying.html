<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Juju Documentation - Deploying charms</title>
    <link href="//fonts.googleapis.com/css?family=Ubuntu:400,400italic" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Ubuntu+Mono:400" rel="stylesheet" type="text/css"/>
    <link href="https://juju.ubuntu.com/wp-content/themes/juju-website/css/reset.css" rel="stylesheet" type="text/css"/>
    <link href="https://juju.ubuntu.com/wp-content/themes/juju-website/css/960.css" rel="stylesheet" type="text/css"/>
    <link href="https://juju.ubuntu.com/wp-content/themes/juju-website/css/base.css" rel="stylesheet" type="text/css"/>
    <link href="https://juju.ubuntu.com/wp-content/themes/juju-website/css/resources.css" rel="stylesheet" type="text/css"/>
    <link href="css/main.css" rel="stylesheet" type="text/css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <script src="http://app.stacktack.com/jquery.stacktack.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
            $(document).stacktack();
      });
    </script><!--[if lt IE 9]>
    <script type="text/javascript" src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  </head>
  <body class="resources">
    <header>
      <div class="header-login">
        <ul>
          <li>&nbsp;</li>
        </ul>
      </div>
      <div class="header-navigation">
        <div>
          <nav role="navigation">
            <ul>
              <li class="page_item"><a href="https://juju.ubuntu.com/">Home</a></li>
              <li class="page_item current_page_item"><a href="https://juju.ubuntu.com/">Resources</a></li>
              <li class="page_item"><a href="https://juju.ubuntu.com/">Community</a></li>
              <li class="page_item"><a href="https://juju.ubuntu.com/">Charm Store</a></li>
              <li class="page_item"><a href="https://juju.ubuntu.com/">Events</a></li>
              <li class="page_item"><a href="https://juju.ubuntu.com/">Survey</a></li>
              <li>
                <form id="form-search" method="get" action="/">
                  <fieldset>
                    <input id="input-search" type="text" name="s" value="Search">
                  </fieldset>
                </form>
              </li>
            </ul>
          </nav><a href="https://juju.ubuntu.com/" class="logo-ubuntu"><img src="https://juju.ubuntu.com/wp-content/themes/juju-website/img/logo-ubuntu.png"></a>
        </div>
      </div>
      <div class="header-content">
        <div class="clearfix"><img src="https://juju.ubuntu.com/wp-content/themes/juju-website/img/arrow-nav.png" width="9" height="5" style="left:894px; display: block;" class="arrow-nav">
          <div class="header-navigation-secondary"></div>
          <div class="header-image"></div>
          <h1>Resources</h1>
          <h2>A collection of some of the most important online references for Juju users and developers.</h2>
        </div>
      </div>
    </header>
    <section id="content" class="container-12">
      <div class="grid-12 doc-container">
        <div class="grid-3 doc-navigation">
          <nav role="navigation">
            <h1>User Guide</h1>
            <ul>
              <li class=""><a href="getting-started.html">Getting Started</a></li>
              <li class=" sub"><a href="getting-started.html#intro">Introduction</a></li>
              <li class=" sub"><a href="getting-started.html#install">Installation</a></li>
              <li class=" sub"><a href="config-aws.html">AWS Configuration</a></li>
              <li class=" sub"><a href="config-hpcloud.html">HP Cloud Configuration</a></li>
              <li class=" sub"><a href="config-openstack.html">OpenStack Configuration</a></li>
              <li class=" sub"><a href="config-maas.html">MAAS Configuration</a></li>
              <li class=" sub"><a href="getting-started.html#test">Testing your setup</a></li>
              <li class=""><a href="charms.html">Using Charms</a></li>
              <li class=" sub"><a href="charms.html#intro">What are Charms?</a></li>
              <li class=" sub"><a href="charms-deploying.html">Deploying Services</a></li>
              <li class=" sub"><a href="charms-constraints.html">Using constraints</a></li>
              <li class=" sub"><a href="charms-config.html">Service Configuration</a></li>
              <li class=" sub"><a href="charms-relations.html">Service Relationships</a></li>
              <li class=" sub"><a href="charms-exposing.html">Exposing Services</a></li>
              <li class=" sub"><a href="charms-scaling.html">Scaling Services</a></li>
              <li class=" sub"><a href="charms-destroy.html">Destroying Services</a></li>
            </ul>
            <h1>Charm Authors</h1>
            <ul></ul>
            <li class=""><a href="authors-charm-anatomy.html">Anatomy of a charm</a></li>
            <li class=""><a href="authors-charm-writing.html">Writing a charm</a></li>
            <li class=" sub"><a href="authors-subordinate-services.html">Subordinate services</a></li>
            <li class=" sub"><a href="authors-implicit-relations.html">Implicit Relations</a></li>
            <li class=" sub"><a href="authors-testing.html">Charm Testing</a></li>
            <li class=" sub"><a href="authors-hooks.html">Hook debugging</a></li>
            <li class=""><a href="authors-charm-store.html">The Juju Charm Store</a></li>
            <li class=" sub"><a href="authors-charm-policy.html">Charm store policy</a></li>
            <li class=" sub"><a href="authors-charm-best-practice.html">Best practices</a></li>
            <li class=" sub"><a href="authors-charm-quality.html">Charm Quality Rating</a></li>
            <h1>Reference</h1>
            <ul>
              <li class="sub"><a href="commands.html">Juju commands</a></li>
              <li class="sub"><a href="glossary.html">Glossary</a></li>
              <li class="sub"><a href="contributing.html">Contribute to the Docs!</a></li>
            </ul>
          </nav>
        </div>
        <div class="grid-9 doc-content">
          <article>
            <section id="deploying">
             <h1>Deploying Services</h1>
             <p>The fundamental point of Juju is that you can use it to deploy serivces through the use of charms (the magic bits of code that make things just work). These charms can be fetched from the charm store, stored in a local repository, or if you are feeling clever, written by you. Just as there are different series of Ubuntu ('precise', 'raring', etc), so there needs to be different series of charms to take into account any subtle changes in the underlying OS. For the most part you can forget about this, as Juju will always try to apply the most relevant charm, so deploying can be straightforward and easy.</p>
             <h1>Deploying from the Charm Store</h1>
             <p>In most cases, you will want to deploy charms by fetching them directly from the charm store. This ensures that you get the relevant, up to date version of the charm and "everything just works". To deploy a charm like this you can just specify:</p>
             <code><pre>juju deploy mysql</code></pre>
             <p>Running this will do exactly what you expect - fetch the latest juju charm for the series you are running and then use the bootstrap environment to initiate a new instance and deploy MySQL</p>
             <p>Juju usefully supports a system of namespaces that means you can actually deploy charms from a variety of sources. The default source is the charm store. The above command is the same as running:</p>
             <pre><code>juju deploy cs:precise/mysql</code></pre>
             <p>which follows the format:</p>
             <pre><code>&LT;repository&GT;:&LT;series&GT;&LT;service&GT;</code></pre>
             
             <h1>Deploying from a local repository</h1>
             <p>There are many cases when you may wish to deploy charms from a local filesytem source rather than the charm store:</p>
             <ul>
              <li>When testing charms you have written.</li>
              <li>When you have modified store charms for some reason.</li>
              <li>When you don't have direct internet access.</li>
             </ul>
             <p>... and probably a lot more times which you can imagine yourselves.</p>
             <p>Juju can be pointed at a local directory to source charms from using the <span class="pre">--repository=&LT;path/to/files&GT;</span> switch like this:</p>
             
             <pre><code>juju deploy --repository=/usr/share/charms/ vsftpd</code></pre>
             <p>You can also make use of standard filesystem shortcuts, so the following examples are also valid:</p>
             <pre><code>juju deploy --repository=. haproxy</code></pre>
             <pre><code>juju deploy --repository=~/charms/ wordpress</code></pre>  
             <p class="note"><strong>Note:</strong> Specifying a local repository makes juju look there <strong>first</strong>, but if the relevant charm is not found in that repository, it will fall back to fetching it from the charm store. If you wish to check where a charm was installed from, it is listed in the <span class="pre">juju status</span> output.</p>
             <h1>Changing the defaults</h1>
             <p>As we have seen, we can specify repositories to install from on the commandline. In fact, this only introduces another potential source and changes the searching order. To permanently change the defaults (e.g. if you would prefer to always deploy from a local service first), you can enter a list of repositories in your <span class="pre">environments.yaml</span> file:</p>
             <pre><code>...
              repositories:
              
               - http://charms.ubuntu.com/collection/ubuntu
               - http://charms.ubuntu.com/collection/openstack
               - http://charms.ubuntu.com/people/miked
               - /var/lib/charms
             </code></pre>
             <h1>A note about caching...</h1>
             <p>After juju resolves a charm and its dependencies, it bundles them and deploys them to a machine provider charm cache/repository (e.g. ~/.juju/charmcache). This allows the same charm to be deployed to multiple machines repeatably and with minimal network transfers.</p>
             
            </section>
          </article>
        </div>
      </div>
    </section>
    <div class="shadow"></div>
    <footer>
      <div>
        <nav role="navigation" class="clearfix">
          <ul>
            <li><a href="https://juju.ubuntu.com/get-started">Get started</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/get-started/local/">Local</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/get-started/amazon/">Amazon Web Services</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/get-started/hp-cloud/">HP Cloud</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/get-started/rackspace/">Rackspace</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/get-started/openstack/">Openstack</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/get-started/maas/">MAAS</a></li>
          </ul>
          <ul>
            <li><a href="https://juju.ubuntu.com/resources">Resources</a></li>
            <li><a href="https://juju.ubuntu.com/docs">Documentation</a></li>
            <li><a href="https://juju.ubuntu.com/resources/videos">Videos</a></li>
            <li><a href="http://uistage.jujucharms.com:8080/">Juju GUI Demo</a></li>
          </ul>
          <ul>
            <li><a href="https://juju.ubuntu.com/community">Community</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/community/juju-blog/">Blog</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/community/weekly-charm-meeting/">Charm Meetings</a></li>
            <li class="page_item"><a href="https://juju.ubuntu.com/community/charmers/">Charmers</a></li>
            <li class="page_item"><a href="https://lists.ubuntu.com/mailman/listinfo/juju">Mailing List</a></li>
            <li class="page_item"><a href="http://webchat.freenode.net/?channels=juju">Chat</a></li>
            <li class="page_item"><a href="http://askubuntu.com/questions/tagged/juju?sort=faq&amp;amp;pagesize=50">FAQ</a></li>
          </ul>
          <ul class="last">
            <li><a href="https://launchpad.net/juju">Code</a></li>
            <li><a href="https://launchpad.net/juju-core">Juju Core</a></li>
            <li><a href="https://launchpad.net/charms">Charms</a></li>
          </ul>
        </nav>
      </div>
    </footer>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.14/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
  </body>
</html>
