<!DOCTYPE html> 
<html>
<!--Head-->
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Juju Documentation</title>
		<link href="https://fonts.googleapis.com/css?family=Ubuntu:400,300,300italic,400italic,700,700italic|Ubuntu+Mono" rel="stylesheet" type="text/css">
		<link rel="stylesheet" type="text/css" media="screen" href="http://juju.ubuntu.com/wp-content/themes/juju-website/css/reset.css">
 		<link rel="shortcut icon" href="http://assets.ubuntu.com/sites/ubuntu/latest/u/img/favicon.ico" />
		<link rel="stylesheet" type="text/css" media="screen" href="http://assets.ubuntu.com/sites/guidelines/css/latest/ubuntu-styles.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="http://assets.ubuntu.com/sites/ubuntu/latest/u/css/global.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="http://juju.ubuntu.com/wp-content/themes/juju-website/css/960.css">
		<link rel="stylesheet" type="text/css" media="screen" href="http://juju.ubuntu.com/wp-content/themes/juju-website/css/home-new.css">
		<link rel="stylesheet" id="stacktack-css" href="http://juju.ubuntu.com/wp-content/plugins/stacktack/css/stacktack.min.css?ver=3.4.2" type="text/css" media="all">
		<link href="https://juju.ubuntu.com/docs/css/main.css?1375975745" rel="stylesheet" type="text/css">
		
		<!--[if lt IE 9]>
		<script type="text/javascript" src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
<!--End-Head-->
  <body class="resources">
  	
<!--Header-->

	<header class="banner global" role="banner">
		<nav role="navigation" class="nav-primary nav-right">
			<div class="logo">
				<a class="logo-ubuntu" href="http://juju.canonicalwebteam.com/">
					<img width="118" height="27" src="http://assets.ubuntu.com/sites/ubuntu/latest/u/img/logo.png" alt="Juju logo" />
					<span>Juju</span>
				</a>
			</div>
			<ul>
				<li class="accessibility-aid"><a accesskey="s" href="#main-content">Jump to content</a></li>
				<li class="page_item page-item-8"><a href="http://juju.canonicalwebteam.com/charms/">Charms</a></li>
				<li class="page_item page-item-10"><a href="http://juju.canonicalwebteam.com/features/">Features</a></li>
				<li class="page_item page-item-12"><a href="http://juju.canonicalwebteam.com/deployment/">Deployment</a></li>
				<li class="page_item page-item-14"><a href="http://juju.canonicalwebteam.com/resources/">Resources</a></li>
				<li class="page_item page-item-16"><a href="http://juju.canonicalwebteam.com/community/">Community</a></li>
				<li class="page_item page-item-18"><a href="http://juju.canonicalwebteam.com/download/">Download</a></li>
			</ul>
			<div id="box-search">
				<form class="search-form" method="get" id="searchform" action="http://juju.canonicalwebteam.com/">
					<label class="off-left" for="s">Search:</label>
					<input class="form-text" type="text" value="" name="s" id="s" />
					<button class="off-left form-submit" type="submit" id="searchsubmit">Search</button>
				</form>		
			</div>
		</nav>	
	</header>
<!--End-Header-->
    <section id="content" class="container-12">
      <div class="grid-12 doc-container">
      	<div id="navlinks" class="grid-3 doc-navigation">LINKS</div>
        <div class="grid-9 doc-content">
          <article>
            <section id="config_local">
            <h1>Configuring for Local Provider</h1>
            <h2>Prerequisites</h2>
            <p>The local provider enables you to run Juju on a single system like your local computer or a single server. This way you can simply evaluate the software or service configurations, develop your own charms or run a single server system.</p> 
            <p>To do this, Juju uses the <strong>LXC Linux Container</strong>, which can be installed on your computer with the command:</p>
<pre class="prettyprint lang-yaml">
sudo apt-get install lxc
</pre>
            <p>Additionally the local provider needs <strong>MongoDB</strong> to be installed. This is done with the command:</p> 
<pre class="prettyprint lang-yaml">
            sudo apt-get install mongodb-server
</pre>
            <p>In case of <strong>precise</strong> or <strong>quantal</strong> versions of Ubuntu, MongoDB has to be installed from a different repository. So in this case call</p>
<pre class="prettyprint lang-yaml">
            sudo apt-add-repository ppa:juju/stable
            sudo apt-get update
</pre>
            <p>beforehand. In case you're not sure take a look into the file <code>/etc/lsb-release</code> which identifies the series with the variable <code>DISTRIB_CODENAME</code>. If you're not running Ubuntu please consult your operating system distribution's documentation for instructions on installing the LXC userspace tools and the MongoDB server. Juju requires a MongoDB server built with SSL support.</p>
            <p>The dependence on the LXC Linux Container shows that the local provider only runs on Linux systems. All steps above are also printed in case of any unsatisfied prerequisite.</p>

            <h2>Configuration</h2>
            <p>You should start by generating a generic configuration file for Juju, using the command:
<pre class="prettyprint lang-bash">juju generate-config</pre>
            <p>This will generate a file, <strong>environments.yaml</strong>, which will live in your <strong>~/.juju/</strong> directory (and will create the directory if it doesn't already exist).
            <p class ="note"><strong>Note:</strong> If you have an existing configuration, you can use <code>juju generate-config --show</code> to output the new config file, then copy and paste relevant areas in a text editor etc.</p>
            <p>The generic configuration sections generated for the local provider will look something like this:</p>
<pre class="prettyprint lang-yaml">
## https://juju.ubuntu.com/get-started/local/
local:
type: local
admin-secret: 772b9471131c6b5883475e3908156d32
#Override the directory that is used for the storage files and database.
#The default location is $JUJU_HOME.
# $JUJU_HOME defaults to ~/.juju
# root-dir: ~/.juju/local
# Override the storage port if you have multiple local providers, or if the
# default port is used by another program.
# storage-port: 8040
# Override the shared storage port if you have multiple local providers,
# or if the default port is used by another program.
# shared-storage-port: 8041
</pre>
            <p>Running Juju with this configuration the storage files and the database will be located in the directory specified by the environment variable <strong>$JUJU_HOME</strong>, which defaults to <strong>~/.juju/</strong>. By uncommenting and setting <strong>root-dir</strong> this location can be changed as well as the ports of the storage and the shared storage. This may be useful in the case of multiple parallel running local providers or conflicts with other programs on your system. Also when using encrypted home directories you have to set <strong>$JUJU_HOME</strong> or <strong>root-dir</strong> to point to a location outside your home directory.

            <h2>Bootstrapping and Destroying</h2>
            <p>The usage of LXC Linux Containers enforces that bootstrapping and destroying of an environment are done as <strong>root</strong>. All other operations can be executed as non-root. E.g.</p>
<pre class="prettyprint lang-yaml">
sudo juju bootstrap
juju deploy mysql
...
sudo juju destroy-environment
</pre>

             </section>
          </article>
        </div>
      </div>
    </section>
    <div class="shadow"></div>
<!--Footer-->
	<footer class="global clearfix" role="contentinfo">
		<nav role="navigation">
			<div class="footer-a">
				<div class="clearfix">
					<ul>
						<li>
							<h2><a href="/">Juju</a></h2>
							<ul>
								<li><a href="/charms">Charms</a></li>
								<li><a href="/features">Features</a></li>
								<li><a href="/deployment">Deployment</a></li>
							</ul>
						</li>
						<li>
							<h2><a href="/resources">Resources</a></h2>
							<ul>
								<li><a href="/resources/juju-overview/">Overview</a></li>
								<li><a href="/docs/">Documentation</a></li>
								<li><a href="/resources/the-juju-gui/">The Juju web UI</a></li>
								<li><a href="/docs/authors-charm-store.html">The charm store</a></li>
								<li><a href="/docs/getting-started.html#test">Tutorial</a></li>
								<li><a href="/resources/videos/">Videos</a></li>
								<li><a href="/resources/easy-tasks-for-new-developers/">Easy tasks for new developers</a></li>
							</ul>
						</li>
						<li>
							<h2><a href="/community">Community</a></h2>
							<ul>
								<li><a href="/community/juju-blog/">Juju Blog</a></li>
								<li><a href="/events/">Events</a></li>
								<li><a href="/community/weekly-charm-meeting/">Weekly charm meeting</a></li>
								<li><a href="/community/charmers/">Charmers</a></li>
								<li><a href="/docs/authors-charm-writing.html">Write a charm</a></li>
								<li><a href="/docs/">Help with documentation</a></li>
								<li><a href="/labs/">Juju Labs</a></li>
							</ul>
						</li>
						<li>
							<h2><a href="https://jujucharms.com/sidebar/">Try Juju</a></h2>
							<ul>
								<li><a href="https://jujucharms.com/">Charm store</a></li>
								<li><a href="/download/">Download Juju</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="legal clearfix">
			<p>&copy; 2013 Canonical Ltd. Ubuntu and Canonical are registered trademarks of <a href="http://canonical.com">Canonical Ltd</a>.</p>
		</div>
	</footer>

<!--End-Footer-->

<!--Scripts-->
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?skin=sunburst"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/jquery-ui.min.js"></script>
    <script src="http://d38yea5fb4e2oh.cloudfront.net/jquery.stacktack.min.js"></script>
    <script type="text/javascript" src="https://juju.ubuntu.com/docs/js/main.js"></script>    
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://assets.ubuntu.com/sites/ubuntu/latest/u/js/plugins/yui-min.js"></script>
    <script src="http://assets.ubuntu.com/sites/ubuntu/latest/u/js/core.js"></script>
    <script src="http://assets.ubuntu.com/sites/ubuntu/latest/u/js/global.js"></script>
<!--End-Scripts-->
</body></html>
